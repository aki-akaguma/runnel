**Ubiquitous Requirements**

*   **U1:** The `runnel` library shall be able to provide flexible and extensible I/O operations.
*   **U2:** The `runnel` library shall have a minimal and easy-to-use API.
*   **U3:** The `RunnelIoe` struct shall be able to bundle together the input, output, and error streams.
*   **U4:** The `RunnelIoeBuilder` shall be able to create `RunnelIoe` instances with configurable stream types.
*   **U5:** The `runnel` library shall have no external dependencies.
*   **U6:** The `runnel` library shall support Rust version 1.56.0 and later.

**Event-Driven Requirements**

*   **E1:** When the `lock()` method is called on a stream, the system shall provide access to the underlying stream.

**State-Driven Requirements**

*   **S1:** Where `StreamIn`, `StreamOut`, and `StreamErr` traits are implemented, the system shall allow for pluggable I/O streams.
*   **S2:** Where the `stdio` stream type is used, the system shall wrap the standard input, output, and error streams of the operating system.
*   **S3:** Where the `stringio` stream type is used, the system shall provide in-memory string-based streams.
*   **S4:** Where the `pipeio` stream type is used, the system shall implement in-memory pipes for thread-safe, FIFO communication.

**Optional Feature Requirements**

*   **O1:** If the `stringio` module is used, the system shall allow for in-memory string-based streams to simulate user input and capture output for verification in tests.
*   **O2:** If the `pipeio` module is used, the system shall enable communication between threads using in-memory pipes.
*   **O3:** If the `lineio` module is included, the system shall provide line-buffered I/O for more efficient line-by-line processing.
